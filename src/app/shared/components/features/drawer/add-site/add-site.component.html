<div 
    (click)="onCancel()"
    class="fixed top-0 left-0 right-0 z-50 w-full overflow-x-hidden overflow-y-auto md:inset-0 h-full bg-black bg-opacity-50 backdrop-blur-sm justify-end items-center flex">
    <!-- Modal content -->
    <div (click)="doNothing($event)" class="relative flex flex-col justify-between bg-background-background-base-default shadow w-1/3 min-w-[504px] h-full">
        <!-- Modal body -->
            <div class="flex flex-col h-auto relative">
                <div class="sticky z-[51] flex items-start px-6 py-4 justify-between w-full border-b border-border-border-divider bg-background-background-base-default">
                    <div class="flex flex-col gap-1">
                        <span class="font-medium text-base">{{selectedSite ? 'Edit site' : 'Add site'}}</span>
                    </div>
                    <div 
                        (click)="onCancel()"
                        class="flex h-4 w-4 hover:text-etma-danger-500 cursor-pointer">
                        <mat-icon class="" svgIcon="ph-regular:x"></mat-icon>
                    </div>
                </div>
    
                <div class="flex h-[200px] w-full relative p-6 ">
                    <div class="flex flex-col absolute -top-28 gap-4">
                        <div
                            *ngFor="let item of [1, 2, 3]"
                            [ngClass]="item === 2? 'border-etma-blue-600 ring-2 ring-etma-blue-200':''"
                            class="flex h-[120px] w-[456px] items-end p-3 rounded-md border-[1px] group duration-150 cursor-pointer bg-cover bg-[url('/assets/images/map-illu.png')]">
                            <div class="gap-[3px]">
                                <span 
                                    [ngClass]="item === 2? 'text-etma-blue-600':''"
                                    class="text-base font-medium ">{{siteFormGroup.controls.name.value ? siteFormGroup.controls.name.value : 'Site-01'}}</span>
                                <span class="flex text-sm">
                                    <!-- <hero-icon
                                        name="map">
                                    </hero-icon> -->
                                    <!-- (click)="item === 2? onToggleCordinate($event) : null"  -->
                                    <div 
                                        [ngClass]="isCordinateShowed && item === 2?
                                            'bg-background-background-brand-accent border-border-border-brand-subtle text-text-text-brand-blue':
                                            'bg-background-background-subtle border-border-border-base text-text-text-secondary'"
                                        class="flex relative items-center pl-2 pr-[6px] border rounded-md gap-[2px]">
                                        <div class="flex w-4 hover:opacity-70 duration-150">
                                            <!-- <mat-icon class="flex" [svgIcon]="isCordinateShowed?'ph-regular:x':'ph-fill:caret-right'"></mat-icon> -->
                                            <svg width="16" height="16" viewBox="0 0 16 16" fill="#6C6C79" xmlns="http://www.w3.org/2000/svg">
                                                <path opacity="0.13" d="M8 1.5C6.67392 1.5 5.40215 2.02678 4.46447 2.96447C3.52678 3.90215 3 5.17392 3 6.5C3 11 8 14.5 8 14.5C8 14.5 13 11 13 6.5C13 5.17392 12.4732 3.90215 11.5355 2.96447C10.5979 2.02678 9.32608 1.5 8 1.5ZM8 8.5C7.60444 8.5 7.21776 8.3827 6.88886 8.16294C6.55996 7.94318 6.30362 7.63082 6.15224 7.26537C6.00087 6.89991 5.96126 6.49778 6.03843 6.10982C6.1156 5.72186 6.30608 5.36549 6.58579 5.08579C6.86549 4.80608 7.22186 4.6156 7.60982 4.53843C7.99778 4.46126 8.39991 4.50087 8.76537 4.65224C9.13082 4.80362 9.44318 5.05996 9.66294 5.38886C9.8827 5.71776 10 6.10444 10 6.5C10 7.03043 9.78929 7.53914 9.41421 7.91421C9.03914 8.28929 8.53043 8.5 8 8.5Z" />
                                                <path d="M12.5 14H9.40875C9.92803 13.5363 10.4177 13.0406 10.875 12.5156C12.5906 10.5425 13.5 8.4625 13.5 6.5C13.5 5.04131 12.9205 3.64236 11.8891 2.61091C10.8576 1.57946 9.45869 1 8 1C6.54131 1 5.14236 1.57946 4.11091 2.61091C3.07946 3.64236 2.5 5.04131 2.5 6.5C2.5 8.4625 3.40688 10.5425 5.125 12.5156C5.58226 13.0406 6.07197 13.5363 6.59125 14H3.5C3.36739 14 3.24021 14.0527 3.14645 14.1464C3.05268 14.2402 3 14.3674 3 14.5C3 14.6326 3.05268 14.7598 3.14645 14.8536C3.24021 14.9473 3.36739 15 3.5 15H12.5C12.6326 15 12.7598 14.9473 12.8536 14.8536C12.9473 14.7598 13 14.6326 13 14.5C13 14.3674 12.9473 14.2402 12.8536 14.1464C12.7598 14.0527 12.6326 14 12.5 14ZM3.5 6.5C3.5 5.30653 3.97411 4.16193 4.81802 3.31802C5.66193 2.47411 6.80653 2 8 2C9.19347 2 10.3381 2.47411 11.182 3.31802C12.0259 4.16193 12.5 5.30653 12.5 6.5C12.5 10.0769 9.03312 13.0625 8 13.875C6.96688 13.0625 3.5 10.0769 3.5 6.5ZM10.5 6.5C10.5 6.00555 10.3534 5.5222 10.0787 5.11107C9.80397 4.69995 9.41352 4.37952 8.95671 4.1903C8.49989 4.00108 7.99723 3.95157 7.51227 4.04804C7.02732 4.1445 6.58186 4.3826 6.23223 4.73223C5.8826 5.08186 5.6445 5.52732 5.54804 6.01227C5.45157 6.49723 5.50108 6.99989 5.6903 7.45671C5.87952 7.91352 6.19995 8.30397 6.61107 8.57867C7.0222 8.85338 7.50555 9 8 9C8.66304 9 9.29893 8.73661 9.76777 8.26777C10.2366 7.79893 10.5 7.16304 10.5 6.5ZM6.5 6.5C6.5 6.20333 6.58797 5.91332 6.7528 5.66664C6.91762 5.41997 7.15189 5.22771 7.42597 5.11418C7.70006 5.00065 8.00166 4.97094 8.29264 5.02882C8.58361 5.0867 8.85088 5.22956 9.06066 5.43934C9.27044 5.64912 9.4133 5.91639 9.47118 6.20736C9.52906 6.49834 9.49935 6.79994 9.38582 7.07403C9.27229 7.34811 9.08003 7.58238 8.83335 7.7472C8.58668 7.91203 8.29667 8 8 8C7.60218 8 7.22064 7.84196 6.93934 7.56066C6.65804 7.27936 6.5 6.89782 6.5 6.5Z" />
                                            </svg>
                                        </div>
                                        <span class="">
                                            {{siteFormGroup.controls.latitude.value || siteFormGroup.controls.longitude.value ? (siteFormGroup.controls.latitude.value || '') + ', ' + (siteFormGroup.controls.longitude.value || '') : 'Location-01'}}
                                        </span>
                                        <!-- <span class="pt-[3px]">
                                            {{isCordinateShowed && item === 2 ? siteFormGroup.controls.latitude.value || siteFormGroup.controls.longitude.value ? siteFormGroup.controls.latitude.value + siteFormGroup.controls.longitude.value : 'Location-01' : 'Show coordinate point'}}
                                        </span>
                                        <div class="flex w-4 cursor-pointer hover:opacity-70 duration-150">
                                            <mat-icon class="flex" [svgIcon]="isCordinateShowed && item === 2?'ph-regular:x':'ph-fill:caret-right'"></mat-icon>
                                        </div> -->
                                    </div>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="flex flex-col h-full w-full p-6 mb-auto sticky z-[51] bg-background-background-base-default border-t border-border-border-divider gap-4">
                    <span class="text-sm text-[#6C6C79] ">Please fill in the following data:</span>
                    <app-input label="Site name" [isUppercase]="true" placeholder="Enter site name" [isRequired]="true" [border]="true" [control]="siteFormGroup.controls.name"></app-input>
                    <div class="flex gap-2 w-full">
                        <div class="flex flex-col w-full">
                            <app-input label="Latitude" inputType="number" placeholder="Enter latitude" [isRequired]="true" [border]="true" [control]="siteFormGroup.controls.latitude"></app-input>
                        </div>
                        <div class="flex flex-col w-full">
                            <app-input label="Longitude" inputType="number" placeholder="Enter longitude" [isRequired]="true" [border]="true" [control]="siteFormGroup.controls.longitude"></app-input>
                        </div>
                    </div>
                    <div class="flex flex-col gap-2">
                        <span class="text-[#303036] text-sm font-medium">Site location Group</span>
                        <div class="flex gap-2 w-full">
                            <div class="flex items-center w-full py-[6px] pl-3 pr-4 border rounded-md">
                                <input id="NORTH" type="radio" value="NORTH" name="site-pole" [formControl]="siteFormGroup.controls.pole" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
                                <label for="NORTH" class="ms-2 text-sm font-medium text-gray-900 dark:text-gray-300">North</label>
                            </div>
                            <div class="flex items-center w-full py-[6px] pl-3 pr-4 border rounded-md">
                                <input id="SOUTH" type="radio" value="SOUTH" name="site-pole" [formControl]="siteFormGroup.controls.pole" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
                                <label for="SOUTH" class="ms-2 text-sm font-medium text-gray-900 dark:text-gray-300">South</label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        <!-- Modal footer -->
        <div class="flex justify-end gap-2 px-6 py-4 bg-background-background-subtle border-t border-border-border-base w-full items-end">
            <button 
                (click)="onCancel()"
                type="button" 
                class="text-text-text-primary bg-background-background-base-default hover:bg-background-background-base-hover border-border-border-base border px-3 py-2 rounded-md"
            >
                Cancel
            </button>
            <button 
                (click)="onSubmit()"
                [ngClass]="{
                    'opacity-50 pointer-events-none' : isLoading || siteFormGroup.invalid
                }"
                type="button" 
                class="flex items-center text-text-text-inverse border-border-border-base border pl-3 pr-2 py-2 rounded-md bg-background-background-brand-default hover:bg-background-background-brand-hover"
            >
                <div *ngIf="isLoading" class="flex pr-2">
                    <app-loading-ring></app-loading-ring>
                </div>
                Submit
                <div class="pl-1">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="#FFFFFF" xmlns="http://www.w3.org/2000/svg">
                        <path d="M10.3778 8.28941L6.21141 12.38C6.15314 12.4373 6.07888 12.4763 5.99801 12.4921C5.91715 12.5079 5.83333 12.4998 5.75715 12.4688C5.68098 12.4379 5.61589 12.3854 5.57011 12.318C5.52434 12.2507 5.49994 12.1716 5.5 12.0906V3.90938C5.49994 3.82843 5.52434 3.74928 5.57011 3.68195C5.61589 3.61462 5.68098 3.56214 5.75715 3.53116C5.83333 3.50017 5.91715 3.49207 5.99801 3.50788C6.07888 3.52369 6.15314 3.5627 6.21141 3.61997L10.3778 7.71059C10.4165 7.74858 10.4473 7.79369 10.4682 7.84335C10.4892 7.89301 10.5 7.94624 10.5 8C10.5 8.05376 10.4892 8.10699 10.4682 8.15665C10.4473 8.20631 10.4165 8.25142 10.3778 8.28941Z"/>
                    </svg>
                </div>
            </button>
        </div>
    </div>
</div>